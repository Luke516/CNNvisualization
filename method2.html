<!DOCTYPE html>
<!-- saved from url=(0053)https://v4-alpha.getbootstrap.com/examples/carousel/# -->
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>卷積神經網路視覺化</title>

    <!-- Bootstrap core CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" rel="stylesheet">
    <link href="./css/method1.css" rel="stylesheet">
  </head>

  <body>
    <nav class="navbar navbar-inverse fixed-top bg-inverse">
      <a class="navbar-brand" href="./index.html">卷積神經網路視覺化</a>
      <a class="navbar-nav" href="./method1.html">風格轉換</a>
      <a class="navbar-nav" href="./method3.html">反卷積</a>
      <a class="navbar-nav" href="./method4.html">引導反向傳播</a>
    </nav>

    <header class="image-bg-header my-5">
      <div id="banner-fg" class="d-flex flex-column  justify-content-between">
        <div></div>
        <div class="header-text mx-auto my-auto">
          <h2>特徵圖</h2>
          <p>
              透過視覺化特徵圖，了解卷積神經網路的卷積層學習的過程與所學習的特徵 
          </p>
        </div>
        <div></div>
      </div>
    </header>

    <div class="container">
      <div class="row">
        <div class="col-12 align-center">
            <form>
              <!-- <div class="img"><img src="./images/placeholder-image.jpg" id="image_preview" class="img-fluid" alt="Responsive image"></div> -->
              <canvas id="myCanvas" width="256" height="256" style="border:2px solid #d3d3d3;">
                Your browser does not support the HTML5 canvas tag.
              </canvas>
              <div class="form-group">
                <input type="file" name="file" class="form-control-file" id="uploaded_img" required="required">
              </div>
              <!-- <input type="submit" value="Submit" /> -->
            </form>
        </div>
        <div class="col-12 align-center" id="confirm">
            <button id="send">確認送出</button>
        </div>
        <!-- START THE FEATURETTES -->
      </div>
      <div class="row" id="loading">
        <div class="col-12 align-center">
          <div class="lds-ring"><div></div><div></div><div></div><div></div></div>
        </div>
        <div class="col-12 align-center">
          <p>伺服器傳輸資料可能需要幾分鐘時間，請稍候...</p>
        </div>
      </div>
      <!-- FOOTER -->
    </div><!-- /.container -->

    <div class="container" id="output">

    </div>

    <div class="d-flex flex-column justify-content-between demo-intro">
        <h3>說明</h3>
        <hr>
        <div id="method1-carousel" class="carousel slide flex-grow-1" data-ride="carousel" style="padding-bottom: 3rem;">
          <ol class="carousel-indicators">
            <li data-target="#method1-carousel" data-slide-to="0" class="active"></li>
            <li data-target="#method1-carousel" data-slide-to="1"></li>
            <li data-target="#method1-carousel" data-slide-to="2"></li>
            <!-- <li data-target="#method1-carousel" data-slide-to="2"></li> -->
          </ol>
          <div class="carousel-inner">
            <div class="row justify-content-center carousel-item active flex-grow-1">
              <div class="col-10" style="text-align: left;">
                  <h5>1. 特徵圖簡介</h5>
                  <p>卷積神經網路在運算的過程中，每經過一次卷積層的運算都會產生出新的特徵圖。</p>
                  <p>以VGG19為例，一開始輸入的圖片會被縮放到長跟寬都等於224，而且因為有紅藍綠三個顏色的通道，所以總共的維度是224x224x3。而這個224x224x3的圖片在通過第一層的卷積層後，維度會變成224x224x64，也就是64張224x224的特徵圖。這是因為第一層的卷積層有64個卷積核，而每個卷積核都會學到一種特徵並輸出一張特徵圖。</p>
                  <p>透過視覺化這些特徵圖，我們可以大致了解到卷積神經網路學習了哪些不同的特徵。</p>
                  <div class="row justify-content-center my-4" ><img src="images/feature_map2.jpg" height="320px"/></div>
              </div>
            </div>
            <div class="row justify-content-center carousel-item flex-grow-1">
              <div class="col-10" style="text-align: left;">
                  <h5>2. 如何解讀特徵圖 </h5>
                  <p>這裡簡單說明一下，要如何透過這些特徵圖來看出卷積神經網路學到了哪些特徵。</p>
                  <p>卷積神經網路所學到的特徵，其實就是由卷積層中的各個卷積核所代表。透過觀察卷積層中，輸入圖片與輸出的特徵圖之間的差異，我們可以大概了解到該卷積核學到了什麼樣的特徵。</p>
                  <p>以VGG19的第一層卷積層為例，我們可以看看下圖的例子，從左到右分別是原圖、卷積核與輸出的特徵圖：</p>
                  <div class="row justify-content-center my-4" ><img src="images/feature_map_example_1.png" height="320px"/></div>
                  <p>可以看到第一個卷積核學到的是類似斜線的特徵，而第二個則是水平線。因此在對應的兩張特徵圖中，第一個特徵圖在斜線的地方比較亮（值比較大），而第二個特徵圖在水平線的部分比較亮。</p>
                  <p>除此之外，卷積核也會學到和顏色相關的特徵：</p>
                  <div class="row justify-content-center my-4" ><img src="images/feature_map_example_2.png" height="160px"/></div>
                  <p>在上面的例子，卷積核學到的特徵偏重綠色，因此所產生的特徵圖，也只有在綠色的部分會比較亮。</p>
                  <p>需要注意的是，這裡卷積核的圖片是為了方便理解，使用另一種視覺化方式來表現的。而真正的卷積核是一個3x3x3的矩陣。</p>
              </div>
            </div>
            <div class="row justify-content-center carousel-item flex-grow-1">
              <div class="col-10" style="text-align: left;">
                  <h5>3. 不同深度的特徵圖 </h5>
                  <p>在VGG19中，卷積層總共被分為五個區塊（block1~block5），而每個區塊的最後都會有池化層來壓縮圖片資訊。</p>
                  <p>經過池化的壓縮之後，特徵圖的維度也會跟著變小。也因此，越深層的特徵圖其維度（長跟寬）也會越小，不過相對的，特徵圖的每個值代表的特徵也越複雜。我們可以從下圖看到特徵圖從淺層到深層的變化：</p>
                  <div class="row justify-content-center my-4" ><img src="images/feature_map_example_3.png" height="400px"/></div>
                  <p>我們可以看到，越深層的特徵圖視覺化看起來的結果會越模糊，光用肉眼也比較難看出特徵圖代表的特徵意義。也因此，本網站目前只用比較淺的卷積層來進行特徵圖的視覺化。如果想要了解比較深層的卷積層所學到的特徵，可以搭配卷積核視覺化的方法來觀察卷積核所學到的特徵；或者試試看另一種視覺化方法：反卷積。</p>
              </div>
            </div>
          </div>
          <a class="arrow-block carousel-control-prev" href="#method1-carousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="arrow-block carousel-control-next" href="#method1-carousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
        <!-- <div class="header-text mx-auto my-auto">
          <h2>風格轉換 (Style Transfer)</h2>
          <p>
            結合卷積神經網路分別從兩張不同圖片上學到的內容與風格，產生出新的圖片。
          </p>
        </div>-->
      </div> 

    <footer>
      <p class="text-center">DataLab 2019</p>
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
    <script src="./js/method2.js"></script>
  </body>
<svg xmlns="http://www.w3.org/2000/svg" width="500" height="500" viewBox="0 0 500 500" preserveAspectRatio="none" style="display: none; visibility: hidden; position: absolute; top: -100%; left: -100%;"><defs><style type="text/css"></style></defs><text x="0" y="25" style="font-weight:bold;font-size:25pt;font-family:Arial, Helvetica, Open Sans, sans-serif">500x500</text></svg></body></html>
